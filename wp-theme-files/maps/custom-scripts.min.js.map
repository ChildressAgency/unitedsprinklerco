{"version":3,"sources":["9_custom-scripts.js","waves.js"],"names":["jQuery","document","ready","$","waves","on","addClass","prop","fn","canvas","this","ctx","getContext","w","Math","PI","window","innerWidth","h","width","height","Spring","index","x","y","k","damp","targetHeight","_classCallCheck","acceleration","_createClass","key","value","displacement","get","springs","numSprings","springSpacing","springX","i","spring","push","onPointerMove","e","clientX","touches","length","waveWidth","springIndex","round","loop","clearRect","forEach","update","leftForces","rightForces","currentSpring","previousSpring","nextSpring","fillStyle","beginPath","moveTo","lineTo","toY","fill","closePath","requestAnimationFrame","body","addEventListener"],"mappings":"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","file":"../js/custom-scripts.min.js","sourcesContent":["/*!\r\n * theme custom scripts\r\n*/\r\n\r\njQuery(document).ready(function ($) {\r\n  $(\".waves canvas\").waves();\r\n\r\n  $('.wpcf7').on('wpcf7mailsent', function(){\r\n    $('.valve').addClass('open-valve');\r\n    \r\n    $('.valve .wpcf7-submit').prop('disabled', true);\r\n  });\r\n});\r\n","(function ($) {\r\n  $.fn.waves = function () {\r\n    const canvas = this[0];\r\n    const ctx = canvas.getContext('2d');\r\n    const PI2 = Math.PI * 2;\r\n\r\n    let w = window.innerWidth;\r\n    const h = 120;\r\n\r\n    canvas.width = w;\r\n    canvas.height = h;\r\n\r\n    class Spring {\r\n      constructor(index, x, y, k, damp, targetHeight, height) {\r\n        this.index = index;\r\n        this.x = x;\r\n        this.y = y;\r\n\r\n        this.k = k;\r\n        this.damp = damp;\r\n\r\n        this.targetHeight = targetHeight;\r\n        this.height = height;\r\n\r\n        this.acceleration = 0;\r\n      }\r\n\r\n      // Hooke's law\r\n      update() {\r\n        const displacement = this.targetHeight - this.height;\r\n\r\n        this.acceleration += this.k * displacement;\r\n        this.acceleration *= this.damp;\r\n\r\n        this.height += this.acceleration;\r\n      }\r\n\r\n      get toY() {\r\n        return this.y - this.height;\r\n      }\r\n    }\r\n\r\n    const springs = [];\r\n    const numSprings = 200;\r\n    let springSpacing = w / (numSprings - 1);\r\n    const springHeight = h * 0.5;\r\n    const springConstant = 0.025;\r\n    const springDamp = 0.9;\r\n    const waveSpread = 0.3;\r\n\r\n    const springY = h;\r\n    let springX = 0;\r\n\r\n    for (let i = 0; i < numSprings; i++) {\r\n\r\n      const spring = new Spring(\r\n        i,\r\n        springX,\r\n        springY,\r\n        springConstant,\r\n        springDamp,\r\n        springHeight,\r\n        springHeight\r\n      );\r\n\r\n      springs.push(spring);\r\n\r\n      springX += springSpacing;\r\n    }\r\n\r\n    const clear = () => {\r\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    };\r\n\r\n    const loop = () => {\r\n      clear();\r\n\r\n      springs.forEach((spring => {\r\n        spring.update();\r\n      }));\r\n\r\n      const leftForces = [];\r\n      const rightForces = [];\r\n\r\n      for (let index = 1; index < springs.length - 1; index++) {\r\n        const currentSpring = springs[index];\r\n        const previousSpring = springs[index - 1];\r\n        const nextSpring = springs[index + 1];\r\n\r\n        leftForces[index] = waveSpread * (currentSpring.height - previousSpring.height);\r\n        rightForces[index] = waveSpread * (currentSpring.height - nextSpring.height);\r\n      }\r\n\r\n      ctx.fillStyle = \"#29296e\";\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, 0);\r\n\r\n      for (let index = 0; index < springs.length; index++) {\r\n        const currentSpring = springs[index];\r\n\r\n        if (index > 0) {\r\n          springs[index - 1].height += leftForces[index] || 0;\r\n          springs[index - 1].acceleration += leftForces[index] || 0;\r\n        }\r\n\r\n        if (index < springs.length - 1) {\r\n          springs[index + 1].height += rightForces[index] || 0;\r\n          springs[index + 1].acceleration += rightForces[index] || 0;\r\n        }\r\n\r\n        ctx.lineTo(currentSpring.x, currentSpring.toY);\r\n      }\r\n\r\n      ctx.lineTo(w, 0);\r\n      ctx.fill();\r\n      ctx.closePath();\r\n\r\n      requestAnimationFrame(loop);\r\n    };\r\n\r\n    loop();\r\n\r\n\r\n    const onPointerMove = (e) => {\r\n      const event = (e.touches && e.touches.length) ? e.touches[0] : e;\r\n      const {clientX} = event;\r\n      const waveWidth = w / numSprings;\r\n      const springIndex = Math.round(clientX / waveWidth);\r\n\r\n      springs[springIndex].acceleration = -h * 0.03;\r\n    };\r\n\r\n    document.body.addEventListener('mousemove', onPointerMove);\r\n    document.body.addEventListener('touchmove', onPointerMove);\r\n\r\n    window.addEventListener('resize', () => {\r\n      w = window.innerWidth;\r\n      canvas.width = w;\r\n      springSpacing = w / (numSprings - 1);\r\n\r\n      let springX = 0;\r\n      for (let index = 1; index < springs.length; index++) {\r\n        const currentSpring = springs[index];\r\n        currentSpring.x = springX;\r\n        springX += springSpacing;\r\n      }\r\n    });\r\n\r\n    return this;\r\n  };\r\n})(jQuery);\r\n"],"sourceRoot":"wp-theme-files"}